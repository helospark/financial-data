package com.helospark.financialdata.util;

import java.util.LinkedHashMap;
import java.util.List;

import com.helospark.financialdata.service.SymbolAtGlanceProvider;
import com.helospark.financialdata.util.glance.AtGlanceData;

/**
 * Prints more result from the result of ParameterFinderBacktest.
 */
public class StockSummaryPrinter {

    private static final String INPUT = "MANH(673), IDXX(643), MA(623), QLYS(620), ADBE(585), MTD(558), AAPL(526), CDNS(496), MEDP(472), CRVL(461), TPL(439), FICO(433), NVO(427), ASML(401), LSCC(351), NVDA(348), CHE(334), MSFT(325), FIZZ(325), VRTX(324), EXPD(311), ULTA(309), ANET(277), LSTR(273), FTNT(272), DECK(271), XLNX(270), BKNG(269), OFLX(264), WAT(260), TER(255), ORLY(249), MSCI(245), ODFL(244), SNPS(241), CHKP(237), MKTX(235), LRCX(232), NVR(231), V(228), SAFM(220), RHI(210), AMAT(209), ROL(209), CORT(208), MELI(206), VEEV(205), IT(203), LULU(199), SBR(199), PAYX(198), ADP(196), TXN(191), FC(189), PBT(184), SEIC(183), WSM(182), XPEL(182), TREX(182), LII(181), UI(181), FDS(180), INTU(179), WINA(178), EXPO(177), MPWR(174), CTAS(169), SJT(168), KFRC(168), NOW(166), GBL(164), EW(163), LOPE(162), ACN(157), MNST(156), HD(154), NRC(153), KLAC(152), AZO(152), NSP(149), BBY(147), GOOG(144), GOOGL(143), ENPH(143), VRSN(137), PAYC(136), UZA(135), EPAM(131), LPX(127), ABMD(127), VRSK(126), DPZ(123), MED(121), WWE(120), TNET(120), ATKR(119), ADSK(118), CHRW(116), GWW(114), PRG(110), ETSY(108), CMG(107), KEYS(105), SPSC(104), HDSN(103), LLY(103), DDS(102), RMD(102), MCK(101), ALGN(100), BMI(99), ANSS(99), ABC(99), MSI(98), MCFT(97), POWI(96), TDC(95), CPRX(95), PCTY(94), MPX(93), WST(91), GMAB(91), AVGO(89), DDT(89), CPRT(89), AMR(89), FAST(88), ACLS(88), KNSL(87), AVID(87), FORR(86), GGG(84), NFLX(84), DOOO(84), HBAN(82), REGN(81), LOW(81), WIRE(81), MUSA(81), JBL(81), MLI(79), SSTK(79), DSGX(78), GNE(77), META(76), POOL(73), CARG(73), SNBR(73), MCHP(72), ROK(72), HCKT(72), HSY(71), YUM(71), HPQ(70), HRB(70), LECO(69), CF(69), MGY(69), LOGI(69), ISRG(68), CROX(67), WING(67), CGNX(67), MCO(67), DVA(67), SPGI(67), HEI(66), INFY(66), SBUX(66), INVA(66), JKHY(65), HCA(64), PCOM(63), HEI-A(63), ERF(63), NKE(63), BMY(61), AN(61), CNS(60), MIME(60), ITW(60), ARCH(59), ZTS(58), RMBS(58), RACE(57), GPI(57), TRI(56), TTD(56), SWN(55), GPC(55), AON(55), WMS(54), OAS(54), FIX(54), PJT(53), AZPN(53), IDT(53), ATEN(52), ZYXI(52), WTI(50), LYB(50), NBIX(49), BBWI(48), HLF(48), SP(48), ERIE(48), CACC(47), HCC(47), LMT(47), VLO(47), CHTR(47), STLD(47), SKY(46), SLP(46), HOLX(46), SGU(45), ITRN(45), CWST(45), DMLP(44), AMN(44), GOL(43), TECH(43), ECOM(42), GPP(42), COST(42), RGR(42), EVR(42), EXP(42), TSLA(41), EXEL(41), SMCI(41), WNS(40), CVLT(40), MAS(40), BIIB(40), ELF(40), BPOPM(40), CVCO(39), WSO-B(39), PAM(39), CHH(39), BLDR(39), DCP(39), WSO(38), BSIG(38), CAH(38), CAR(38), VRTV(38), PZZA(38), KLIC(38), PLCE(37), ALSN(37), PBF(37), QCOM(37), ASGN(37), NNN(37), FLT(36), YELP(36), BTU(36), AMGN(36), MSGN(35), OLN(35), XPO(35), PHM(35), BCOR(35), NSSC(35), TYL(34), ON(34), CSCO(33), VALU(33), MBT(33), RES(33), IRMD(33), GDDY(33), ARW(33), USNA(32), HIBB(32), DK(32), HTA(32), EVTC(32), PANW(32), STX(31), BSM(31), OVV(31), CASY(31), MAR(31), RGEN(31), TEAM(31), SWKS(31), BCC(30), PGR(30), HQI(30), AMG(30), TJX(29), SIGA(29), DQ(29), NUE(29), BBW(28), FNV(28), CVLG(28), CERN(28), WDFC(28), LQDT(28), VRTS(28), CDW(27), MTCH(27), CSGP(27), TPX(27), MTOR(27), COLL(27), AMP(27), A(26), NVEC(26), WNC(26), NVMI(26), TTEK(26), GNTX(26), SITE(26), CL(26), DKS(26), URI(26), AAL(26), IQV(26), RDY(26), CEIX(25), HLNE(25), WLKP(25), TEL(25), PTC(25), SAIA(25), ABBV(25), TROW(25), RMNI(24), FUN(24), CRUS(24), KSS(24), TTC(24), HALO(24), EL(24), UMC(24), ZBRA(24), INCY(24), ATGE(23), TXRH(23), TEN(23), HZNP(23), AZUL(23), DLB(23), DFIN(23), SBGI(23), EME(23), NEX(23), AOS(23), ACGL(22), CALM(22), GES(22), CAL(22), CSL(22), CVI(22), NXGN(22), EA(22), NXPI(22), SWBI(22), UMBF(22), ANF(22), APA(22), SLAB(21), EXPI(21), TLK(21), CLS(21), CNO(21), NTCT(21), EE(21), WRLD(21), MOH(21), PARR(21), SBH(21), FRPH(21), SFM(20), FFIV(20), USLM(20), LEA(20), HESM(20), LYV(20), CCRN(20), MRO(20), CLMT(20), TVTY(20), AMD(20), RRD(20), SHW(19), APPS(19), SHOO(19), GIB(19), ALXN(19), TOL(19), SEAS(19), RCII(19), MITK(19), AHT-PD(19), OLED(19), WHD(19), IBKR(18), ODP(18), SUN(18), PAG(18), UHAL(18), WW(18), BIDU(18), MSA(18), DOOR(18), EOG(18), AHT-PI(18), NGL(18), ATUS(17), STZ(17), GCO(17), NAVI(17), OXY(17), DIOD(17), PDCE(17), HLI(17), NTAP(17), WAFD(17), TY(17), VG(17), PERI(17), MXL(17), AHT-PH(17), AHT-PF(17), AHT-PG(17), NRP(17), MATX(17), SLCT(16), BOX(16), STM(16), PAC(16), CHS(16), HMHC(16), FORM(16), TPH(16), CRM(16), HOG(16), UNP(16), HVT(16), IIVI(16), ACH(16), GPRK(16), RLI(16), GLOB(16), RNR(16), NDSN(16), QIWI(16), NICE(16), SHI(15), SIX(15), BKE(15), HVT-A(15), SNP(15), EXLS(15), STR(15), EXTR(15), PSA-PG(15), PSA-PF(15), PTSI(15), GSM(15), LAZ(15), EQNR(15), DBI(15), FN(15), MGM(15), PRDO(15), PRGS(15), AEL(15), HTBK(15), PSB-PX(15), BBU(14), M(14), WPM(14), BHC(14), BMA(14), SQM(14), APOG(14), SYNA(14), TTGT(14), CIG(14), DISH(14), PTR(14), ROCC(14), SRLP(14), DFS(14), GT(14), MAN(14), QD(14), DXC(14), SD(14), ABG(14), APH(14), NRZ(14), SIG(13), SNX(13), MTDR(13), TNK(13), ORCL(13), DENN(13), BLMN(13), C-PJ(13), UTMD(13), CE(13), NTES(13), HWM(13), KR(13), NX(13), WU(13), EOS(13), JILL(13), TSCO(13), CMPR(13), STON(12), L(12), W(12), STRL(12), SPOT(12), LPLA(12), CAMT(12), PTNR(12), PLAB(12), KOS(12), VEON(12), CRI(12), CIG-C(12), CTS(12), HGH(12), LPI(12), YPF(12), BA(12), DO(12), ULH(12), UNH(12), AAON(12), SBAC(12), EAT(12), CHDN(12), REX(12), XENT(12), X(11), ATHM(11), APAM(11), CINR(11), SKM(11), UNIT(11), CAPL(11), GBX(11), TGLS(11), WDAY(11), PAA(11), PBR(11), LUMN(11), DINO(11), IDCC(11), ARLP(11), PRFT(11), MPC(11), LNTH(11), MTL(11), VCEL(11), ABR(11), ACM(11), RLGY(11), GPOR(11), RMR(11), MERC(11), JHX(11), SGMS(11), SEE(10), FNF(10), HLIT(10), CWEN-A(10), EXPE(10), AGYS(10), GNW(10), TNL(10), COP(10), CPA(10), BLBD(10), SF-PD(10), DCI(10), FLEX(10), ARCO(10), BP(10), DIN(10), DG(10), ONTO(10), FL(10), CTIC(10), MBI(10), MO(10), SM(10), TK(10), EAF(10), CPRI(10), VGR(10), MYE(10), ADI(10), ELV(10), ALK(10), SCCO(10), PSB-PY(10), SCHN(10), VLGEA(9), JWN(9), SLM(9), BLD(9), SPH(9), CRD-B(9), ATVI(9), BVH(9), SYF(9), KMB(9), ALTA(9), WYNN(9), TGT(9), JBHT(9), MLCO(9), HAL(9), PSB(9), PSA(9), PXD(9), OXSQL(9), UTHR(9), LIND(9), DS-PB(9), DS-PC(9), DS-PD(9), GM(9), RS(9), MDXG(9), HSIC(9), OSUR(9), PATK(9), NAV(9), SENEA(9), SENEB(9), AMC(9), BNFT(9), ARD(9), ESGR(9), STAA(9), RDNT(9), WIX(9), JACK(9), H(8), R(8), BBAR(8), DHIL(8), SPLK(8), OIS(8), OMI(8), VICR(8), IVR-PC(8), BYD(8), BZH(8), PLAY(8), ACGLO(8), ALNY(8), SCE-PH(8), CWEN(8), GLP(8), UFPI(8), XRX(8), GTN(8), CLR(8), VALE(8), DLR-PJ(8), JBSS(8), AMCX(8), CSX(8), SIMO(8), DESP(8), BPOP(8), SIRI(8), AMPY(8), ROCK(8), UHS(8), BW(8), SNEX(8), HUM(8), UPS(8), JD(8), EEFT(8), SATS(8), MGI(8), IAC(8), MKL(8), CTRA(8), ERII(8), CTXS(8), MRC(8), TRIP(8), DGICB(8), HSTM(8), BF-A(8), VRS(8), CHRD(8), RNG(8), GLOP-PB(8), AKAM(8), RRC(8), NMM(8), IBEX(8), NVAX(8), EQC-PD(7), SLCA(7), BEP(7), WOR(7), QRVO(7), ATLC(7), WTM(7), WTS(7), SPR(7), ATRS(7), SSD(7), CRD-A(7), HUBB(7), MSTR(7), SHLX(7), NS-PB(7), TGNA(7), ICLR(7), XOM(7), JBLU(7), CLW(7), CNQ(7), CNX(7), PII(7), VRNT(7), TSM(7), PYPL(7), CVE(7), CVS(7), VNOM(7), COMM(7), SF-PC(7), SABR(7), C-PK(7), NOVT(7), DHC(7), BC(7), BR(7), HNGR(7), EG(7), FF(7), AMSWA(7), HY(7), ROST(7), DRQ(7), PM(7), FLWS(7), MHO(7), UZC(7), IIIN(7), GTN-A(7), EVRI(7), VC(7), IEX(7), PAGP(7), MOD(7), YY(7), MRK(7), TRGP(7), CHGG(7), RYAAY(7), BIPC(7), RYAM(7), BPOPN(7), BF-B(7), EBAY(7), HOUS(7), CUTR(7), ATI(7), MNKD(7), AVT(7), ACCO(6), E(6), F(6), AXON(6), BJRI(6), CHKEZ(6), CVGW(6), CRAI(6), WRK(6), SKT(6), BKU(6), WVE(6), OGN(6), GILT(6), CAKE(6), KEP(6), KEX(6), CRMT(6), OMAB(6), MBUU(6), FWRD(6), GEF(6), GEO(6), OXM(6), TDS(6), CDK(6), TGI(6), TTMI(6), THO(6), ITRI(6), GPS(6), MGLN(6), GRVY(6), PDM(6), FGEN(6), PFG(6), CNC(6), TPC(6), BCPC(6), MCRI(6), SMTC(6), CYH(6), PSX(6), PBR-A(6), PVG(6), GWRE(6), BRK-B(6), LPL(6), DAL(6), HLT(6), DEN(6), HMY(6), AM(6), AEHR(6), CO(6), ALP-PQ(6), EC(6), PMTS(6), MT(6), PAAS(6), OC(6), PG(6), DVN(6), MIC(6), MMC(6), TMST(6), GEF-B(6), IIPR(6), CYBE(6), LAWS(6), HSII(6), TITN(6), NPTN(6), ABT(6), RDN(6), PNNT(6), ACI(6), WTREP(6), RFP(6), TRMB(6), KELYB(6), DXLG(6), NGL-PB(6), CYTK(6), YUMC(6), BERY(6), CURV(6), ABST(6), SLG-PI(6), NRG(6), CNBKA(6), ESTE(6), RUTH(6), NYT(6), WMT(5), BDN(5), FLR(5), CHKEL(5), SCSC(5), QNST(5), UNFI(5), CVNA(5), CIVI(5), SHEL(5), SPTN(5), KBR(5), ECHO(5), STT(5), CNDT(5), GRBK(5), CALX(5), BXC(5), ALLE(5), TDS-PV(5), BATRA(5), BATRK(5), IPAR(5), RETA(5), HURN(5), THC(5), TKC(5), PLNT(5), LYTS(5), TMO(5), CLX(5), TNP(5), TPR(5), CPE(5), LBTYK(5), TRN(5), PNC(5), LFC(5), MTSI(5), ILMN(5), TWI(5), MPLX(5), PUMP(5), HEP(5), FORTY(5), SIRE(5), AVAV(5), UAA(5), BLKB(5), UAN(5), CSWI(5), LRN(5), THRY(5), HOV(5), SNCY(5), BG(5), ARCB(5), AZTA(5), DLX(5), KT(5), USM(5), MCD(5), LX(5), MU(5), LESL(5), MGA(5), DSKE(5), ZBH(5), OSIS(5), MDRX(5), TS(5), TT(5), TV(5), IIPR-PA(5), WT(5), JPM-PK(5), TIPT(5), EAI(5), VET(5), EDN(5), EGY(5), SBLK(5), ABB(5), VMD(5), VTLE(5), TRMD(5), TROX(5), VPG(5), DGICA(5), HOLI(5), KELYA(5), BRFS(5), AIG(5), NEM(5), NEU(5), IRWD(5), RPD(5), INSE(5), AIG-PA(5), ASC(5), PFPT(5), DISCA(5), EBIX(5), PSB-PZ(5), LORL(5), RYI(5), AXL(5), AYI(5), WDS(5), FCN(5), TFII(5), NTB(5), TSEM(5), SKYW(5), WHR(5), STLA(5), POLY(5), FARO(4), CRBG(4), FRC(4), ARGO-PA(4), BKR(4), BLL(4), PTCT(4), SON(4), SOR(4), GIII(4), SSP(4), WTRE(4), ZUMZ(4), GTXAP(4), SWX(4), PSA-PS(4), PSA-PR(4), PSA-PQ(4), SYK(4), FFNW(4), SYY(4), PSA-PH(4), PSA-PL(4), PSA-PK(4), PSA-PJ(4), PSA-PP(4), PSA-PO(4), PSA-PN(4), PSA-PM(4), NEXA(4), VECO(4), PTVE(4), CCK(4), ET-PE(4), ET-PD(4), ET-PC(4), THS(4), VIST(4), GPK(4), CHK(4), WLYB(4), PDS(4), PEN(4), GTS(4), GTX(4), ADMS(4), CMI(4), CNI(4), PLTK(4), LMAT(4), AMBA(4), CPG(4), TTWO(4), DLR-PK(4), DLR-PL(4), XPER(4), TRV(4), RNR-PF(4), AMED(4), CSV(4), CWH(4), TYG(4), PRO(4), CSTM(4), LNT(4), ZEUS(4), DAN(4), AVCT(4), AMRK(4), AMWD(4), BPYU(4), ROIC(4), HPP(4), DHR(4), CX(4), AMZN(4), NTCO(4), DKL(4), SANM(4), MYOV(4), HUN(4), HL(4), MAX(4), ANDE(4), LC(4), HNRG(4), DSX(4), SFBS(4), NR(4), NS(4), BURL(4), PR(4), RE(4), NTNX(4), SC(4), SF(4), SU(4), ICL(4), ENBL(4), MMP(4), VEC(4), ANTM(4), MTG(4), ENIC(4), BMRN(4), AFGE(4), IPG(4), AAN(4), CUEN(4), ITT(4), SR-PA(4), MVIS(4), AFG(4), IVR(4), ENV(4), RIG(4), DGII(4), VTNR(4), AIT(4), AIV(4), ENVA(4), ALB(4), PFGC(4), OTIS(4), EXR(4), LBRT(4), TRTN-PC(4), TRTN-PD(4), TRTN-PE(4), TRTN-PB(4), AUY(4), MARK(4), STGW(4), HL-PB(4), JOE(4), WTFCP(4), NVCR(3), PSXP(3), GMED(3), CMSD(3), CMSA(3), AGNC(3), MSBI(3), FLY(3), DHHC(3), CHKEW(3), SIC(3), SID(3), BHE(3), BHF(3), LXRX(3), EGHT(3), SLG(3), CAAP(3), BKD(3), IBRX(3), WWW(3), MODN(3), SPG(3), MODV(3), LFMDP(3), CRGY(3), EPAY(3), STN(3), EPAC(3), WTTR(3), SUZ(3), KGC(3), IVR-PB(3), ALKS(3), FBHS(3), GCI(3), GEL(3), TTEC(3), CATM(3), MFA-PB(3), NATR(3), LTRPB(3), MORN(3), TAL(3), TBI(3), KRA(3), SUPN(3), KRP(3), ALTR(3), USFD(3), TEX(3), CEA(3), GMS(3), TCMD(3), IPGP(3), MCFE(3), PFE(3), VNDA(3), OZON(3), USPH(3), ADNT(3), ZION(3), LBTYA(3), LBTYB(3), CRK(3), PLYM(3), HEES(3), CWK(3), PRA(3), CBRE(3), LMB(3), HFC(3), LNW(3), ZNGA(3), UAL(3), MLKN(3), DAC(3), HII(3), DBD(3), LILA(3), GBLI(3), HLX(3), HMC(3), COTY(3), GOGO(3), UGP(3), LVS(3), HNP(3), AR(3), AX(3), BJ(3), CC(3), CI(3), CW(3), IMAX(3), HRI(3), ARES(3), DX(3), DY(3), HSC(3), WABC(3), UMH(3), AAM-PB(3), CTIB(3), KD(3), UMH-PD(3), KN(3), RDS-B(3), RDS-A(3), USX(3), HZO(3), LU(3), MD(3), MET(3), UVE(3), ANGI(3), CCMP(3), CCSI(3), MOS(3), QUOT(3), DOMO(3), EBS(3), CYBR(3), MSB(3), OSTK(3), ENIA(3), INT(3), NLY-PF(3), EGP(3), EBR-B(3), ABM(3), SBOW(3), DHHCU(3), IMKTA(3), AMH-PG(3), EMR(3), AES(3), SBSW(3), RHP(3), AGI(3), EQC(3), LSXMB(3), ESI(3), AME(3), BRKR(3), ROG(3), EVC(3), BRKB(3), SIVBP(3), NJR(3), ASTL(3), ASH(3), FELE(3), MANT(3), RVT(3), QRTEB(3), NOV(3), DISCK(3), TBBK(3), AOSL(3), JKS(3), AZZ(3), AGEN(3), WGO(3), JNJ(3), PSTG(3), CIGI(3), AGLE(2), SCS(2), EXAS(2), ATEC(2), BCO(2), BCX(2), C(2), LGND(2), Y(2), SCPL(2), SGH(2), RDUS(2), BBAI(2), CMTL(2), SPLP(2), HCSG(2), BGS(2), ACIW(2), SJM(2), BWMX(2), AGRX(2), LCII(2), RICK(2), AGRO(2), RICE(2), MSGE(2), FSM(2), POWL(2), SONDW(2), MSGS(2), PCAR(2), BLW(2), BLX(2), CACI(2), BBIO(2), BOC(2), OII(2), ATRI(2), KAR(2), SRC(2), UNMA(2), SPLP-PA(2), CMRE-PE(2), WTRH(2), GILD(2), BRO(2), STC(2), OMC(2), PGNY(2), SPXC(2), HUBG(2), NETI(2), OPY(2), LXP-PC(2), ORC(2), GRFS(2), ENTXW(2), MBWM(2), ACGLP(2), CASH(2), GFF(2), GIC(2), AUDC(2), ALRM(2), TCI(2), COWNL(2), TDG(2), CBZ(2), ADEA(2), TEO(2), SHYF(2), CNSL(2), CGC(2), UFPT(2), CHD(2), PBI(2), GRUB(2), CIT(2), TKR(2), DBRG-PH(2), DBRG-PI(2), PARAA(2), MGNI(2), PEP(2), CLF(2), CLH(2), CMC(2), CNA(2), AL-PA(2), HMLP(2), XYL(2), CPS(2), TRS(2), FCBC(2), CRL(2), PLXS(2), TLND(2), TPVG(2), ADUS(2), PPD(2), PPG(2), COHU(2), FCFS(2), BLFS(2), PWR(2), PHYS(2), HIG(2), IHRT(2), THRM(2), UDR(2), DDI(2), SESN(2), GBOX(2), HON(2), SABRP(2), BYND(2), LITE(2), NM-PG(2), ET(2), FA(2), MYRG(2), DLO(2), KODK(2), UNF(2), GE(2), AGNCP(2), AGNCO(2), GL(2), AGNCN(2), GOOS(2), HA(2), MET-PA(2), NTGR(2), IP(2), DOX(2), SAVE(2), MCG(2), MCY(2), MC(2), MX(2), NM(2), DTP(2), LANC(2), MFA(2), MFC(2), QDEL(2), HAYN(2), PACW(2), EQH-PC(2), FLXN(2), DUK-PA(2), IAG(2), RL(2), PACK(2), ABR-PE(2), SB(2), IBP(2), TX(2), LILAK(2), NTUS(2), WK(2), WY(2), LAUR(2), PETS(2), MTH(2), CHCO(2), PARA(2), PRTH(2), DXCM(2), IPI(2), RBC(2), CUBI(2), IESC(2), ENOV(2), VMI(2), VMW(2), INFI(2), ABEV(2), ADS(2), ADV(2), AEG(2), FCNCO(2), FCNCA(2), ZWS(2), BEKE(2), AFL(2), DOYU(2), TRNS(2), SSTI(2), GPRE(2), XELA(2), CUBI-PF(2), AJG(2), CHRA(2), TARO(2), LSXMA(2), LSXMK(2), TRTN(2), CHRS(2), GLOP(2), VTRU(2), NIE(2), GLRE(2), APR(2), PNC-PP(2), ARL(2), APSG-UN(2), RTO(2), MANU(2), NOG(2), AVD(2), AVY(2), RXT(2), STFC(2), FANG(2), ATAX(2), SAM(2), RUSHB(2), FHI(2), BAP(2), ATCX(2), WLL(1), FRTA(1), FLO(1), J(1), FATE(1), NVEE(1), T(1), MFIC(1), BEN(1), FMS(1), FMX(1), ACHC(1), BFH(1), POST(1), IBOC(1), SHG(1), FOE(1), FOR(1), TBPH(1), SPNS(1), SPNT(1), NEGG(1), AXTA(1), SCVL(1), BKI(1), DLTR(1), BELFA(1), BELFB(1), ATNI(1), FTV(1), COF-PK(1), COF-PI(1), COF-PJ(1), STT-PG(1), ALBO(1), BRC(1), ACRX(1), ACRS(1), VIAV(1), NVTA(1), ALGT(1), EGRX(1), PGRE(1), JNPR(1), SYKE(1), RIOT(1), APPF(1), SYNH(1), OPI(1), CHSCP(1), GMBLP(1), TOWN(1), SHOP(1), FOCS(1), RVNC(1), ALLY(1), KKR(1), BBVA(1), CARS(1), ACGLN(1), LPTX(1), CRTO(1), JFIN(1), NATH(1), PCRX(1), TBK(1), UWMC(1), GIL(1), CCO(1), REVG(1), MGIC(1), FOLD(1), CEF(1), CEO(1), WLTW(1), TGH(1), TANNL(1), TANNI(1), CFG(1), TPGY(1), CFR(1), THR(1), DVAX(1), KREF(1), RARE(1), CHY(1), PBH(1), KYN(1), BGNE(1), TCOM(1), VVNT(1), DBRG-PJ(1), PCN(1), PLPC(1), ADMA(1), CLB(1), TMX(1), TNC(1), CMA(1), ADMP(1), AUPH(1), GVA(1), CNR(1), MTBCP(1), VNET(1), PHI(1), COG(1), AMBC(1), SIFY(1), FTCH(1), EYPT(1), SIGI(1), PKI(1), TTI(1), PLD(1), VRRM(1), PDFS(1), PLYA(1), CUZ(1), HOVNP(1), THWWW(1), SMTI(1), HAE(1), BPMC(1), PRI(1), HBI(1), CZR(1), EMBC(1), MLHR(1), CBSH(1), LPG(1), AMRC(1), LEAP(1), UBS(1), DAO(1), DAR(1), DBX(1), OXSQZ(1), KEY-PI(1), CGBD(1), HNI(1), SNDL(1), XLRN(1), AG(1), DGX(1), AU(1), DHI(1), MUFG(1), BX(1), HQH(1), CR(1), DIS(1), CS(1), LZB(1), TPGY-UN(1), DD(1), SRPT(1), HEXO(1), GAINM(1), HTH(1), ARHS(1), GS(1), BYSI(1), ARGX(1), HP(1), GGAL(1), MAC(1), IX(1), KB(1), QUAD(1), LW(1), NXST(1), VSTA(1), OI(1), HWCPZ(1), BDSI(1), CTOS(1), NGVT(1), RH(1), RM(1), HT-PD(1), HT-PC(1), HT-PE(1), SE(1), CLBT(1), EVOP(1), CTRE(1), CTSH(1), TECK(1), ARWR(1), WM(1), MOV(1), IIVIP(1), IHC(1), AAWW(1), IMXI(1), EBF(1), IRDM(1), EBR(1), MIGI(1), MSM(1), JPM-PD(1), PROC(1), EDD(1), MTN(1), CHCT(1), VOYA(1), MUR(1), PRTA(1), NLY-PG(1), VIV(1), WSBF(1), RBA(1), EIG(1), AAP(1), IRS(1), SOHU(1), ADM(1), TALO(1), MEIP(1), RGP(1), TRMK(1), BRBR(1), IVT(1), EOI(1), HONE(1), PAYO(1), AGO(1), AGX(1), TEVA(1), SONY(1), NBN(1), NBR(1), VSH(1), AIR(1), VST(1), RKT(1), ERJ(1), GMRE-PA(1), XENE(1), ESE(1), NGL-PC(1), OKTA(1), ETD(1), ASND(1), IART(1), NEP(1), HKIB(1), ALL(1), VVI(1), XNCR(1), NRZ-PB(1), SGEN(1), EXK(1), APO(1), GHLD(1), FISV(1), ASR(1), GDEN(1), JEF(1), ABTX(1), FIVE(1), NUVA(1), HBANO(1), QADA(1), NOK(1), DISCB(1), NUTX(1), NPK(1), WBA(1), WBD(1), MARA(1), AXP(1), WCN(1), AXDX(1), PBPB(1), JLL(1), WEX(1), BIO-B(1), IBCP(1), BFAM(1), URBN(1), PSTH(1), NWL(1), HTLD(1), SBS(1), BAH(1), FIS(1)";
    private static final List<String> COLUMNS_TO_PRINT = List.of("pe", "trailingPeg:tpeg", "altman", "roic", "roe", "dtoe", "grMargin:grm", "opCMargin:opm", "shareCountGrowth:shareG",
            "price10Gr:grow", "fvCalculatorMoS:mos");
    private static final Double FAIR_VALUE_FILTER_THRESHOLD = null;

    public static void main(String[] args) throws IllegalArgumentException, IllegalAccessException, NoSuchFieldException, SecurityException {
        printStockSummary(INPUT);
    }

    public static void printStockSummary(String input) throws IllegalAccessException, NoSuchFieldException {
        String[] stocks = input.split(", ");

        SymbolAtGlanceProvider symbolAtGlanceProvider = new SymbolAtGlanceProvider();
        LinkedHashMap<String, AtGlanceData> data = symbolAtGlanceProvider.getSymbolCompanyNameCache();

        System.out.printf("%-15s\t", "stock");
        for (var column : COLUMNS_TO_PRINT) {
            String dataToPrint = column;
            if (column.contains(":")) {
                dataToPrint = column.split(":")[1];
            }
            System.out.print(dataToPrint + "\t");
        }
        System.out.println();

        for (var stock : stocks) {
            String ticker;
            if (stock.indexOf("(") != -1) {
                ticker = stock.substring(0, stock.indexOf("("));
            } else {
                ticker = stock;
            }
            AtGlanceData atGlance = data.get(ticker);
            if (atGlance != null && applyFilter(atGlance)) {
                System.out.printf("%-15s\t", stock);

                for (var column : COLUMNS_TO_PRINT) {
                    System.out.printf("%.2f\t", getFieldAsDouble(atGlance, column));
                }
                System.out.printf("%.1f\t", atGlance.marketCapUsd / 1000.0);
                System.out.printf("%s", atGlance.companyName);
                System.out.println();
            }
        }
    }

    private static boolean applyFilter(AtGlanceData atGlance) {
        return FAIR_VALUE_FILTER_THRESHOLD == null || atGlance.fvCalculatorMoS > FAIR_VALUE_FILTER_THRESHOLD;
    }

    public static Double getFieldAsDouble(AtGlanceData atGlance, String column) throws IllegalAccessException, NoSuchFieldException {
        if (column.contains(":")) {
            column = column.split(":")[0];
        }
        Object value = AtGlanceData.class.getField(column).get(atGlance);

        if (value.getClass().equals(Double.class)) {
            return (Double) value;
        } else if (value.getClass().equals(Float.class)) {
            return ((Float) value).doubleValue();
        } else if (value.getClass().equals(Byte.class)) {
            return ((Byte) value).doubleValue();
        } else if (value.getClass().equals(Integer.class)) {
            return ((Integer) value).doubleValue();
        } else if (value.getClass().equals(Short.class)) {
            return ((Short) value).doubleValue();
        } else {
            throw new RuntimeException("Unknown type");
        }
    }

}
