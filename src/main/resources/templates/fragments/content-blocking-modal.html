<div class="modal" id="not-registered-modal" tabindex="1" aria-hidden="true" role="" th:unless="${isLoggedIn}">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Sign in to view this page</h3>
      </div>
      <div class="modal-body">
        <p>If you don't have an account yet, <b><a href="/#sign_up">sign up</a></b> for free.</p>
        <h5>Log in</h5>
        <div th:replace="~{fragments/login-fragment}"></div>
      </div>
    </div>
  </div>
</div>

<div class="modal" id="account-limit-reached" tabindex="-1" aria-hidden="true" role="">
  <div class="modal-dialog modal-xl modal-dialog-centered" style="max-width: 1200px;width:90%;">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Account limit reached</h3>
      </div>
      <div class="modal-body">
        <p>You have reached the maximum number of stocks you can view in your plan.</p>
        <div th:replace="~{fragments/plans-fragment}"></div>
      </div>
    </div>
  </div>
</div>



<script>



$(document).ready(function() {
  allowed = $("#allowed").text();
  accountType = $("#accountType").text();
  
  if ($("#allowed").text() == "false") {
    $("#content").addClass("blurred");
    $("body").css({"overflow": "hidden"});
    if (accountType == "NOT_LOGGED_IN") {
      modal = new bootstrap.Modal(document.getElementById("not-registered-modal"));
      modal._config.backdrop = 'static';
      modal._config.keyboard = false;
      modal.show();
      modal._focustrap.deactivate(); // so the menubar still works
    } else {
      modal = new bootstrap.Modal(document.getElementById("account-limit-reached"));
      modal._config.backdrop = 'static';
      modal._config.keyboard = false;
      modal.show();
      modal._focustrap.deactivate(); // so the menubar still works
    }
  }
});

</script>
